require("dotenv").config(); const knex = require("knex")({ client: "pg", connection: { host: process.env.DB_HOST, port: process.env.DB_PORT, user: process.env.DB_USER, password: process.env.DB_PASS, database: process.env.DB_NAME, ssl: { rejectUnauthorized: !1 } } }), express = (module.exports = knex, require("express")), mid = require("./middleware/middIndex"), userEndpoint = require("./controllers/userIndex"), endPoints = express(), express = (endPoints.post("/signup", mid.userValidation.email, userEndpoint.signUp), endPoints.post("/signin", userEndpoint.signIn), endPoints.use(mid.authentication), endPoints.get("/user", userEndpoint.getUserData), module.exports = endPoints, require("express")), endPoints = require("./endpoints"), app = express(), port = (require("dotenv").config(), process.env.PORT || 3e3); app.use(express.json()), app.use(endPoints), app.listen(port);